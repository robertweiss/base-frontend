.mainnav {
    > ul {
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
    }

    .level-1 {
        margin-right: 1rem;

        > a,
        > span {
            display: block;
            padding: .15rem .5rem;
            color: $white;
            cursor: pointer;
            font-family: $secondaryFont;

            @include mq-min($sm) {
                padding: 1rem .35rem;
            }

            @include mq-min($md) {
                padding: 1rem .75rem;
            }

            @include mq-min($lg) {
                padding: 1rem;
                font-size: $lead;
            }
        }

        > ul {
            position: absolute;
            left: 0;
            top: 100%;
            width: 100%;
            background: $white;
            padding: 1rem;
            display: none;
            border-bottom: 1px solid $red;
            box-shadow: 0 2px 2px rgba($black, .25);

            @include mq-min($sm) {
                padding: 6rem 2rem 2rem;
            }

            @include mq-min(1510px) {
                border-left: 1px solid $red;
                border-right: 1px solid $red;
            }
        }

        &:hover,
        &.is-active {
            > span {
                position: relative;

                &:after {
                    position: absolute;
                    right: -.5rem;
                    top: 52%;
                    transform: translateY(-50%);
                    content: '';
                    width: .75rem;
                    height: .75rem;
                    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAOCAMAAAD32Kf8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTg5MERFNDFCNkIzMTFFOTkzMUZCRUQ2MEUyMzNDQjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTg5MERFNDJCNkIzMTFFOTkzMUZCRUQ2MEUyMzNDQjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxODkwREUzRkI2QjMxMUU5OTMxRkJFRDYwRTIzM0NCOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxODkwREU0MEI2QjMxMUU5OTMxRkJFRDYwRTIzM0NCOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PomKco8AAAAGUExURf///////1V89WwAAAACdFJOU/8A5bcwSgAAAERJREFUeNpskFsOAEAEAzv3v/TGI8HSHzqJKAJJlNzJSsPhlOqw6YSOmzm7Y8wyLExQ1tq1m6JMyBefSefhmm9JPQEGAEWGAIUfhawbAAAAAElFTkSuQmCC);
                    background-repeat: no-repeat;
                    background-size: contain;
                    font-size: $caption;

                    @include mq-min($lg) {
                        right: -.25rem;
                        top: 53%;
                    }
                }
            }
        }

        &.current,
        &.parent {
            > span,
            > a {
                color: $lightgrey;
            }
        }

        &.is-active {
            > ul {
                display: block;

                @include mq-min($smb) {
                    display: flex;
                    justify-content: space-between;
                    flex-flow: row wrap;
                }
            }
        }
    }

    .level-2 {
        width: 100%;

        @include mq-min($smb) {
            width: 50%;
            padding-right: 1rem;
        }

        @include mq-min($sm) {
            width: 25%;
        }

        &:not(:last-child) {
            margin-bottom: 1rem;
        }

        &:nth-last-child(3):first-child,
        &:nth-last-child(3):first-child ~ li {
            @include mq-min($sm) {
                width: 33.333%;
            }
        }

        &:nth-last-child(2):first-child,
        &:nth-last-child(2):first-child ~ li {
            @include mq-min($sm) {
                width: 50%;
            }
        }

        > a,
        > span {
            font-family: $secondaryFont;
        }

        > a {
            display: block;
            font-weight: bold;
            color: $red;
            margin-bottom: .25rem;
            font-size: $sublead;
            line-height: 1.25;

            @include mq-min($sm) {
                margin-bottom: .5rem;
            }
        }

        > ul {
            @include mq-max($sm) {
                margin-left: .75rem;
            }
        }
    }

    .level-3,
    .level-4 {
        line-height: 1.2;

        > a,
        > span {
            line-height: 1.2;
            display: block;
            color: $grey;
        }

        > span {
            margin-bottom: .25rem;

            @include mq-min($sm) {
                margin-bottom: .5rem;
            }
        }

        > a {
            &:hover {
                color: $black;
            }
        }

        &.current a,
        &.current span {
            color: $red;
        }
    }

    .level-3 {
        line-height: 1.4;

        @include mq-min($sm) {
            margin-bottom: 1rem;
        }

        &:not(:last-child) {
            margin-bottom: .75rem;
        }
    }

    .level-4 {
        position: relative;
        margin-left: 2em;
        margin-bottom: .25rem;

        &:before {
            position: absolute;
            content: "‚óè \0020";
            margin-left: -1em;
            top: .25em;
            left: -.2rem;
            font-size: .75em;
            color: $grey;
            color: $red;
        }

        &.current:before {
            color: $red;
        }
    }
}

.mainnav--toggle {
    display: none;
}
